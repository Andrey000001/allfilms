{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,GCAA,IAAA,EAAe,CAEX,QAAS,mCACT,aAAc,gDACd,eAAgB,sCAChB,eAAgB,4CAGhB,MAAO,SAAS,aAAa,CAAC,aAC9B,WAAY,SAAS,aAAa,CAAC,sBACnC,UAAW,SAAS,aAAa,CAAC,qBAClC,WAAY,SAAS,aAAa,CAAC,cACnC,KAAM,SAAS,aAAa,CAAC,yBAC7B,WAAY,SAAS,aAAa,CAAC,eAEnC,YAAa,SAAS,aAAa,CAAC,oBACpC,QAAS,SAAS,cAAc,CAAC,WACjC,MAAO,SAAS,cAAc,CAAC,QACnC,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,W,O,C,G,I,E,E,SChBe,SAAA,IACP,OAAO,UAAU,CAAG,IACpB,AAAA,EAAA,OAAG,CAAE,IAAI,CAAC,WAAW,CAAG,YAExB,AAAA,EAAA,OAAG,CAAE,IAAI,CAAC,WAAW,CAAG,EAE9B,CAKA,IAEA,OAAO,gBAAgB,CAAC,SANxB,WACE,sBAAsB,EACxB,E,G,I,G,E,S,E,UEVF,KAAM,CAAA,QAAE,CAAO,CAAA,aAAE,CAAY,CAAA,eAAE,CAAc,CAAC,CAC5C,EAAA,OAAG,CACU,eAAA,EAA2B,EAAO,CAAC,EAEhD,IAAM,EAAW,MAAM,MACrB,CAAC,EAAE,EAAa,SAAS,EAAE,EAAQ,MAAM,EAAE,EAAK,CAAC,EAE7C,EAAO,MAAM,EAAS,IAAI,GAE1B,EAAgB,MAAM,EAAK,OAAO,CAAC,GAAG,CAAC,MAAM,IAC/C,GAAI,CAEJ,IAAM,EAAO,MAAM,MACjB,CAAC,EAAE,E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","sources":["<anon>","src/js/refs.js","src/js/updateText.js","src/index.js","src/js/fetchMovie.js","src/js/createMarkup.js","src/js/serchMovie.js","src/js/clearPage.js","src/js/plagination.js","src/js/currentMuvie.js","src/js/addToWatched.js","src/js/addToQueue.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"krGWQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $ee27a4d7c64fc8c4$export$2e2bcd8739ae039; });\nvar $ee27a4d7c64fc8c4$export$2e2bcd8739ae039 = {\n    //API\n    API_KEY: \"8c1c21cb3de0f31fcce2cce049e2c70c\",\n    BASE_URL_ALL: \"https://api.themoviedb.org/3/trending/all/day\",\n    BASE_URL_GENRE: \"https://api.themoviedb.org/3/movie/\",\n    BASE_URL_QUERY: \"https://api.themoviedb.org/3/search/movie\",\n    //main\n    cards: document.querySelector(\".js-cards\"),\n    arrowRight: document.querySelector(\".js-arrow-to_right\"),\n    arrowLeft: document.querySelector(\".js-arrow-to_left\"),\n    formSubmit: document.querySelector(\".form-page\"),\n    logo: document.querySelector(\".content-header__logo\"),\n    pagination: document.querySelector(\".pagination\"),\n    //btn\n    watchedList: document.querySelector(\".js-list-watched\"),\n    watched: document.getElementById(\"watched\"),\n    queue: document.getElementById(\"queue\")\n};\n\n});\n\nparcelRegister(\"9Uhgk\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", function () { return $7366bbf7bad3b19b$export$2e2bcd8739ae039; });\n// resetBase()\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\nfunction $7366bbf7bad3b19b$export$2e2bcd8739ae039() {\n    if (window.innerWidth > 767) (0, $krGWQ.default).logo.textContent = \"Filmoteka\";\n    else (0, $krGWQ.default).logo.textContent = \"\";\n}\nfunction $7366bbf7bad3b19b$var$handleResize() {\n    requestAnimationFrame($7366bbf7bad3b19b$export$2e2bcd8739ae039);\n}\n$7366bbf7bad3b19b$export$2e2bcd8739ae039();\nwindow.addEventListener(\"resize\", $7366bbf7bad3b19b$var$handleResize);\n\n});\n\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\nconst { API_KEY: $a0cac08c197f45b6$var$API_KEY, BASE_URL_ALL: $a0cac08c197f45b6$var$BASE_URL_ALL, BASE_URL_GENRE: $a0cac08c197f45b6$var$BASE_URL_GENRE } = (0, $krGWQ.default);\nasync function $a0cac08c197f45b6$export$2e2bcd8739ae039(page = 1) {\n    //Получаем все фильмы \n    const response = await fetch(`${$a0cac08c197f45b6$var$BASE_URL_ALL}?api_key=${$a0cac08c197f45b6$var$API_KEY}&page=${page}`);\n    const data = await response.json();\n    const genreRequests = await data.results.map(async (movieId)=>{\n        try {\n            //Получаем все инфу по ID\n            const resp = await fetch(`${$a0cac08c197f45b6$var$BASE_URL_GENRE}${movieId.id}?api_key=${$a0cac08c197f45b6$var$API_KEY}&include_image_language=en,null`);\n            if (!resp.ok) throw new Error(resp.statusText);\n            const data = await resp.json();\n            return data;\n        } catch (error) {\n            console.log(\"Errorrrrrr\", error);\n        }\n    });\n    return await Promise.all(genreRequests);\n}\n\n\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\nconst { cards: $bb2db7a89a40ba72$var$cards } = (0, $krGWQ.default);\nasync function $bb2db7a89a40ba72$export$24783e9f3a24abe4(data) {\n    try {\n        //Отбираем те в которых есть фото и нет ошибки\n        const successfulMoviesData = data.filter((movies)=>{\n            if (!movies || movies.poster_path === null) return;\n            return movies;\n        });\n        const markup = successfulMoviesData.map(({ title: title, poster_path: poster_path, genres: genres, release_date: release_date, id: id })=>{\n            let genr = genres.map((item)=>item.name).join(\", \");\n            let dateMovie = release_date.slice(0, 4);\n            return `\n              <li class=\"page-item\" data-id=\"${id}\">\n                 <a href=\"#\" class=\"page-item__link\">\n                 <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\">\n                 <div class=\"page-description\">\n                     <h2 class=\"page-description__title\">${title}</h2>\n                     <p class=\"page-description__podscription\">${genr} <span>| ${dateMovie}</span></p>\n                 </div>\n                 </a>\n              </li>`;\n        }).join(\" \");\n        $bb2db7a89a40ba72$var$cards.insertAdjacentHTML(\"beforeend\", markup);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\n\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\nconst { cards: $a6be473e5430189c$var$cards } = (0, $krGWQ.default);\nfunction $a6be473e5430189c$export$2e2bcd8739ae039() {\n    $a6be473e5430189c$var$cards.innerHTML = \"\";\n}\n\n\n\nvar $9Uhgk = parcelRequire(\"9Uhgk\");\nconst { formSubmit: $615b248ed863778a$var$formSubmit, BASE_URL_QUERY: $615b248ed863778a$var$BASE_URL_QUERY, API_KEY: $615b248ed863778a$var$API_KEY, BASE_URL_GENRE: $615b248ed863778a$var$BASE_URL_GENRE, cards: $615b248ed863778a$var$cards, logo: $615b248ed863778a$var$logo, pagination: $615b248ed863778a$var$pagination } = (0, $krGWQ.default);\nfunction $615b248ed863778a$export$2e2bcd8739ae039() {\n    $615b248ed863778a$var$formSubmit.addEventListener(\"submit\", async (e)=>{\n        e.preventDefault();\n        const request = e.currentTarget.serchQuary.value.trim();\n        const response = await fetch(`${$615b248ed863778a$var$BASE_URL_QUERY}?api_key=${$615b248ed863778a$var$API_KEY}&query=${request}`);\n        const data = await response.json();\n        const successMovies = await data.results.filter((item)=>{\n            if (!item || item.poster_path === null) return;\n            return item;\n        });\n        const results = await successMovies.map(({ id: id })=>id);\n        const renderingMarkup = await Promise.all(results.map(async (ids)=>{\n            const response = await fetch(`${$615b248ed863778a$var$BASE_URL_GENRE}${ids}?api_key=${$615b248ed863778a$var$API_KEY}`);\n            const data = await response.json();\n            const { title: title, poster_path: poster_path, release_date: release_date, genres: genres } = data;\n            const genre = genres.map(({ name: name })=>name).join(\" \");\n            const releaseDate = release_date.slice(0, 4);\n            return `\n            <li class=\"page-item\" data-id=\"${ids}\">\n                <a href=\"#\" class=\"page-item__link\">\n                    <img class=\"page-item__img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\"/>\n                    <div class=\"page-description\">\n                        <h2 class=\"page-description__title\">${title}</h2>\n                        <p class=\"page-description__podscription\">${genre} ${releaseDate}</p>\n                    </div>\n                </a>\n            </li>`;\n        }));\n        (0, $a6be473e5430189c$export$2e2bcd8739ae039)();\n        $615b248ed863778a$var$pagination.style.display = \"none\";\n        $615b248ed863778a$var$cards.innerHTML = renderingMarkup.join(\" \");\n    });\n}\n(0, $9Uhgk.default)();\n\n\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\n\n\n\nconst { API_KEY: $ad96d6d838aa2c0e$var$API_KEY, BASE_URL_ALL: $ad96d6d838aa2c0e$var$BASE_URL_ALL, arrowRight: $ad96d6d838aa2c0e$var$arrowRight, arrowLeft: $ad96d6d838aa2c0e$var$arrowLeft } = (0, $krGWQ.default);\nasync function $ad96d6d838aa2c0e$export$2e2bcd8739ae039(page = 1) {\n    const response = await fetch(`${$ad96d6d838aa2c0e$var$BASE_URL_ALL}?api_key=${$ad96d6d838aa2c0e$var$API_KEY}&page=${page}`);\n    const data = await response.json();\n    const reft = {\n        totalPageCount: data.total_pages,\n        currentPage: page,\n        pageNumbers: [],\n        maxPageBtn: 9,\n        nearEdgeThreshold: 3,\n        pageNumbersHtml: document.querySelector(\".js-list\")\n    };\n    const { totalPageCount: totalPageCount, currentPage: currentPage, pageNumbers: pageNumbers, maxPageBtn: maxPageBtn, nearEdgeThreshold: nearEdgeThreshold, pageNumbersHtml: pageNumbersHtml } = reft;\n    if (totalPageCount <= maxPageBtn) for(let i = 1; i <= totalPageCount; i += 1)pageNumbers.push(i);\n    else {\n        // 1                 3  + 1\n        if (currentPage <= nearEdgeThreshold + 1) {\n            for(let i = 1; i <= maxPageBtn - 2; i += 1)pageNumbers.push(i);\n            pageNumbers.push(\"...\");\n            pageNumbers.push(totalPageCount);\n        } else if (currentPage >= totalPageCount - nearEdgeThreshold) {\n            pageNumbers.push(1);\n            pageNumbers.push(\"...\");\n            for(let i = totalPageCount - maxPageBtn + 3; i <= totalPageCount; i += 1)pageNumbers.push(i);\n        } else {\n            pageNumbers.push(1);\n            pageNumbers.push(\"...\");\n            for(let i = currentPage - nearEdgeThreshold; i <= currentPage + nearEdgeThreshold; i += 1)pageNumbers.push(i);\n            pageNumbers.push(\"...\");\n            pageNumbers.push(totalPageCount);\n        }\n    }\n    const pageNumbersHTML = pageNumbers.map((number)=>{\n        if (number === \"...\") return `<span>${number}</span>`;\n        else {\n            const activeClass = page === number ? \"isactive\" : \"\";\n            return `<button class=\"js-page-number ${activeClass}\" data-page=\"${number}\">${number}</button>`;\n        }\n    }).join(\"\");\n    pageNumbersHtml.innerHTML = pageNumbersHTML;\n    $ad96d6d838aa2c0e$var$arrowRight.disabled = page === totalPageCount;\n    $ad96d6d838aa2c0e$var$arrowLeft.disabled = page === 1;\n    document.querySelectorAll(\".js-page-number\").forEach((button)=>{\n        button.addEventListener(\"click\", async ()=>{\n            const newPage = parseInt(button.dataset.page);\n            console.log(newPage);\n            if (!isNaN(newPage)) {\n                (0, $a6be473e5430189c$export$2e2bcd8739ae039)();\n                const data = await (0, $a0cac08c197f45b6$export$2e2bcd8739ae039)(page);\n                (0, $bb2db7a89a40ba72$export$24783e9f3a24abe4)(data);\n                $ad96d6d838aa2c0e$export$2e2bcd8739ae039(newPage);\n            }\n        });\n    });\n}\n\n\n\n\nvar $krGWQ = parcelRequire(\"krGWQ\");\nfunction $03bf350f108de963$export$2e2bcd8739ae039(watchedD, localStr) {\n    watchedD.addEventListener(\"click\", ()=>{\n        const isWatched = true;\n        localStr.isWatched = isWatched;\n        const savedMoviesWatched = JSON.parse(localStorage.getItem(\"savedMoviesWat\")) || [];\n        const existingMovieIndex = savedMoviesWatched.findIndex(({ gotId: gotId })=>gotId === localStr.gotId);\n        if (existingMovieIndex === -1) {\n            savedMoviesWatched.push(localStr);\n            console.log(\"\\u0424\\u0438\\u043B\\u044C\\u043C \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D \\u0432 \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u0435\\u043D\\u043D\\u044B\\u0435\");\n            localStorage.setItem(\"savedMoviesWat\", JSON.stringify(savedMoviesWatched));\n        } else console.log(\"\\u0424\\u0438\\u043B\\u044C\\u043C \\u0443\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C\");\n    });\n}\n\n\nfunction $c83eaf274b0ccdd7$export$2e2bcd8739ae039(btnQueue, localStr) {\n    btnQueue.addEventListener(\"click\", ()=>{\n        const isQueue = true;\n        localStr.isQueue = isQueue;\n        const savedMovieQueue = JSON.parse(localStorage.getItem(\"savedMovieQueue\")) || [];\n        const successMovie = savedMovieQueue.findIndex(({ gotId: gotId })=>gotId === localStr.gotId);\n        if (successMovie === -1) {\n            savedMovieQueue.push(localStr);\n            localStorage.setItem(\"savedMovieQueue\", JSON.stringify(savedMovieQueue));\n        } else console.log(\"\\u0423\\u0436\\u0435 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\");\n    });\n}\n\n\nconst { BASE_URL_GENRE: $30945593a52b1118$var$BASE_URL_GENRE, API_KEY: $30945593a52b1118$var$API_KEY } = (0, $krGWQ.default);\nconst $30945593a52b1118$var$modalContainer = document.createElement(\"div\");\n$30945593a52b1118$var$modalContainer.classList.add(\"modal\");\ndocument.body.appendChild($30945593a52b1118$var$modalContainer);\n$30945593a52b1118$var$modalContainer.style.display = \"none\";\nasync function $30945593a52b1118$export$2e2bcd8739ae039() {\n    document.body.addEventListener(\"click\", onOpen);\n    async function onOpen(e) {\n        const pageItem = e.target.closest(\".page-item\");\n        if (pageItem) {\n            document.body.classList.add(\"modal-open\");\n            const gotId = pageItem.dataset.id;\n            const response = await fetch(`${$30945593a52b1118$var$BASE_URL_GENRE}${gotId}?api_key=${$30945593a52b1118$var$API_KEY}`);\n            const data = await response.json();\n            const { genres: genres, title: title, poster_path: poster_path, vote_average: vote_average, vote_count: vote_count, original_title: original_title, popularity: popularity, overview: overview, release_date: release_date } = data;\n            const genreS = genres.map(({ name: name })=>name).join(\" | \");\n            const overage = vote_average.toString().slice(0, 3);\n            const vote = vote_count.toString();\n            const overviwW = overview.length > 550 ? overview.slice(0, 550) + \"...\" : overview;\n            console.log(data);\n            // LOCAL STORAGE\n            const localStorageSave = {\n                gotId: gotId,\n                poster_path: poster_path,\n                title: title,\n                genres: genres,\n                overage: overage,\n                release_date: release_date\n            };\n            function checkCorect(num) {\n                const parseValue = parseFloat(num);\n                if (!isNaN(parseValue)) {\n                    const popular = parseValue.toFixed(1);\n                    if (popular.endsWith(\".\")) return popular.slice(0, -1);\n                    else if (popular.endsWith(\".0\")) return popular.slice(0, -2);\n                    return popular;\n                }\n                return \"Invalid value\";\n            }\n            $30945593a52b1118$var$modalContainer.innerHTML = \"\";\n            const backdrop = `\n                  <div class=\"modal__container\">\n                    <div class=\"modal-contant\">\n                      <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\"/>\n                      <article class=\"modal-article\">\n                          <h2 class=\"modal-article__title\">${title}</h2>\n                          <div class=\"info-modal\">\n                              <p class=\"info-modal__lean\">Vote / Votes<span class=\"info-modal__value overage-modal\">${overage}</span> / <span class=\"vote-modal info-modal__value\">${vote}</span></p>\n                              <p class=\"info-modal__lean\">Popularity<span class=\"info-modal__value popular-modal\">${checkCorect(popularity)}</span></p>\n                              <p class=\"info-modal__lean\">Original Title<span class=\"info-modal__value title-modal\">${original_title}</span></p>\n                              <p class=\"info-modal__lean\">Genre<span class=\"info-modal__value genre-modal\">${genreS}</span></p>\n\n                              <div>\n                                <p class=\"info-modal__about\">About</\\u{437}>\n                                <p class=\"info-modal__overview\">${overviwW}</p>\n                              </div>\n                          </div>\n                          <div class=\"modal-buttons\">\n                           <button class=\"modal-buttons__watched modal-button js-modal__watched\">add to Watched</button>\n                          <button class=\"modal-buttons__queue modal-button js-modal__queue\">add to queue</button>\n                          </div>\n                      </article>\n                     </div>\n                  </div>\n                  `;\n            $30945593a52b1118$var$modalContainer.style.display = \"flex\";\n            document.body.addEventListener(\"click\", onCloseModal);\n            $30945593a52b1118$var$modalContainer.innerHTML = backdrop;\n            const modalWatched = document.querySelector(\".js-modal__watched\");\n            const modalQueue = document.querySelector(\".js-modal__queue\");\n            (0, $03bf350f108de963$export$2e2bcd8739ae039)(modalWatched, localStorageSave);\n            (0, $c83eaf274b0ccdd7$export$2e2bcd8739ae039)(modalQueue, localStorageSave);\n        }\n    }\n    function onCloseModal(e) {\n        if (!e.target.closest(\".modal-contant\")) {\n            document.body.classList.remove(\"modal-open\");\n            $30945593a52b1118$var$modalContainer.style.display = \"none\";\n            document.body.removeEventListener(\"click\", onCloseModal);\n        }\n    }\n}\n\n\nlet $1f0dc3b9307be026$var$page = 1;\nconst { arrowRight: $1f0dc3b9307be026$var$arrowRight, arrowLeft: $1f0dc3b9307be026$var$arrowLeft } = (0, $krGWQ.default);\n$1f0dc3b9307be026$var$init();\nasync function $1f0dc3b9307be026$var$init() {\n    const data = await (0, $a0cac08c197f45b6$export$2e2bcd8739ae039)($1f0dc3b9307be026$var$page);\n    await (0, $bb2db7a89a40ba72$export$24783e9f3a24abe4)(data);\n    (0, $ad96d6d838aa2c0e$export$2e2bcd8739ae039)();\n}\nconst $1f0dc3b9307be026$var$arrows = {\n    handleRightClick: async ()=>{\n        $1f0dc3b9307be026$var$page += 1;\n        try {\n            (0, $a6be473e5430189c$export$2e2bcd8739ae039)();\n            const data = await (0, $a0cac08c197f45b6$export$2e2bcd8739ae039)($1f0dc3b9307be026$var$page);\n            (0, $bb2db7a89a40ba72$export$24783e9f3a24abe4)(data);\n            (0, $ad96d6d838aa2c0e$export$2e2bcd8739ae039)($1f0dc3b9307be026$var$page);\n        } catch (error) {\n            console.error(error);\n        }\n    },\n    handleLeftClick: async ()=>{\n        $1f0dc3b9307be026$var$page -= 1;\n        try {\n            (0, $a6be473e5430189c$export$2e2bcd8739ae039)();\n            const data = await (0, $a0cac08c197f45b6$export$2e2bcd8739ae039)($1f0dc3b9307be026$var$page);\n            (0, $bb2db7a89a40ba72$export$24783e9f3a24abe4)(data);\n            (0, $ad96d6d838aa2c0e$export$2e2bcd8739ae039)($1f0dc3b9307be026$var$page);\n        } catch (error) {\n            console.error(error);\n        }\n    }\n};\nconst { handleLeftClick: $1f0dc3b9307be026$var$handleLeftClick, handleRightClick: $1f0dc3b9307be026$var$handleRightClick } = $1f0dc3b9307be026$var$arrows;\n$1f0dc3b9307be026$var$arrowLeft.addEventListener(\"click\", $1f0dc3b9307be026$var$handleLeftClick);\n$1f0dc3b9307be026$var$arrowRight.addEventListener(\"click\", $1f0dc3b9307be026$var$handleRightClick);\n(0, $615b248ed863778a$export$2e2bcd8739ae039)();\n(0, $30945593a52b1118$export$2e2bcd8739ae039)();\n\n\n//# sourceMappingURL=index.2b9e10c0.js.map\n","export default {\n    //API\n    API_KEY: '8c1c21cb3de0f31fcce2cce049e2c70c',\n    BASE_URL_ALL: 'https://api.themoviedb.org/3/trending/all/day',\n    BASE_URL_GENRE: 'https://api.themoviedb.org/3/movie/',\n    BASE_URL_QUERY: 'https://api.themoviedb.org/3/search/movie',\n    \n    //main\n    cards: document.querySelector('.js-cards'),\n    arrowRight: document.querySelector('.js-arrow-to_right'),\n    arrowLeft: document.querySelector('.js-arrow-to_left'),\n    formSubmit: document.querySelector('.form-page'),\n    logo: document.querySelector('.content-header__logo'),\n    pagination: document.querySelector('.pagination'),\n    //btn\n    watchedList: document.querySelector('.js-list-watched'),\n    watched: document.getElementById('watched'),\n    queue: document.getElementById('queue')\n}\n","// resetBase()\nimport refs from \"./refs\";\nexport default function updateText() {\n    if (window.innerWidth > 767) {\n        refs.logo.textContent = 'Filmoteka';\n    } else {\n        refs.logo.textContent = '';\n    }\n  }\n  function handleResize() {\n    requestAnimationFrame(updateText);\n  }\n  \n  updateText();\n  \n  window.addEventListener('resize', handleResize);\n  \n","import refs from './js/refs';\nimport fetchMovies from './js/fetchMovie';\nimport { createMarkup } from './js/createMarkup';\nimport searchforNameMovie from './js/serchMovie';\nimport updatePage from './js/plagination';\nimport clearPage from './js/clearPage';\nimport touchMovieInfo from './js/currentMuvie';\nlet page = 1;\n\nconst { arrowRight ,arrowLeft } = refs;\n\ninit();\n\nasync function init() {\n  const data = await fetchMovies(page);\n  await createMarkup(data);\n  updatePage();\n}\n\nconst arrows = {\n  handleRightClick: async () => {\n    page += 1;\n    try {\n      clearPage();\n      const data = await fetchMovies(page);\n      createMarkup(data);\n      updatePage(page);\n    } catch (error) {\n      console.error(error);\n    }\n  },\n  handleLeftClick: async () => {\n    page -= 1;\n    try {\n      clearPage();\n      const data = await fetchMovies(page);\n      createMarkup(data);\n      updatePage(page);\n    } catch (error) {\n      console.error(error);\n    }\n  },\n};\n\nconst { handleLeftClick, handleRightClick } = arrows;\n\narrowLeft.addEventListener('click', handleLeftClick);\narrowRight.addEventListener('click', handleRightClick);\n\nsearchforNameMovie();\ntouchMovieInfo()\n\n","import refs from \"./refs\";\nconst { API_KEY, BASE_URL_ALL, BASE_URL_GENRE} =\n  refs;\nexport default async function fetchMovies(page = 1) {\n    //Получаем все фильмы \n  const response = await fetch(\n    `${BASE_URL_ALL}?api_key=${API_KEY}&page=${page}`\n  );\n  const data = await response.json();\n\n  const genreRequests = await data.results.map(async movieId => {\n      try {\n          //Получаем все инфу по ID\n      const resp = await fetch(\n        `${BASE_URL_GENRE}${movieId.id}?api_key=${API_KEY}&include_image_language=en,null`\n      );\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      const data = await resp.json();\n      return data;\n    } catch (error) {\n      console.log('Errorrrrrr', error);\n    }\n  });\n  return await Promise.all(genreRequests);\n}","import refs from \"./refs\";\nconst { cards } = refs;\n  async function createMarkup(data) {\n    try {\n      //Отбираем те в которых есть фото и нет ошибки\n      const successfulMoviesData = data.filter(movies => {\n        if (!movies || movies.poster_path === null) {\n          return;\n        }\n        return movies;\n      });\n\n      const markup = successfulMoviesData\n        .map(({ title, poster_path, genres, release_date ,id}) => {\n          let genr = genres.map(item => item.name).join(', ');\n          let dateMovie = release_date.slice(0, 4);\n  \n          return `\n              <li class=\"page-item\" data-id=\"${id}\">\n                 <a href=\"#\" class=\"page-item__link\">\n                 <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\">\n                 <div class=\"page-description\">\n                     <h2 class=\"page-description__title\">${title}</h2>\n                     <p class=\"page-description__podscription\">${genr} <span>| ${dateMovie}</span></p>\n                 </div>\n                 </a>\n              </li>`;\n        })\n        .join(' ');\n      cards.insertAdjacentHTML('beforeend', markup);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  export {createMarkup}","import refs from './refs';\nimport clearPage from './clearPage';\nimport updateText from './updateText';\nconst { formSubmit, BASE_URL_QUERY, API_KEY, BASE_URL_GENRE, cards ,logo ,pagination} = refs;\n\nexport default function searchforNameMovie() {\n  formSubmit.addEventListener('submit', async e => {\n    e.preventDefault();\n    const request = e.currentTarget.serchQuary.value.trim();\n    const response = await fetch(\n      `${BASE_URL_QUERY}?api_key=${API_KEY}&query=${request}`\n    );\n    const data = await response.json();\n    const successMovies = await data.results.filter((item )=>  {\n        if(!item || item.poster_path === null) {\n            return\n        }\n        return item\n    })\n    \n    const results = await successMovies.map(({ id }) => id);\n\n    const renderingMarkup = await Promise.all(\n      results.map(async (ids) => {\n        \n        const response = await fetch(\n          `${BASE_URL_GENRE}${ids}?api_key=${API_KEY}`\n        );\n        const data = await response.json();\n        const { title, poster_path, release_date, genres } = data;\n        const genre = genres.map(({ name }) => name).join(' ');\n        const releaseDate = release_date.slice(0,4) \n        return `\n            <li class=\"page-item\" data-id=\"${ids}\">\n                <a href=\"#\" class=\"page-item__link\">\n                    <img class=\"page-item__img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\"/>\n                    <div class=\"page-description\">\n                        <h2 class=\"page-description__title\">${title}</h2>\n                        <p class=\"page-description__podscription\">${genre} ${releaseDate}</p>\n                    </div>\n                </a>\n            </li>`;\n      })\n    );\n    clearPage();\n    pagination.style.display = 'none'\n    cards.innerHTML = renderingMarkup.join(' ');\n  });\n}\n\nupdateText()\n","import refs from \"./refs\";\nconst {cards} = refs\n\nexport default function clearPage() {\n    cards.innerHTML = '';\n}","import refs from './refs';\nimport { createMarkup } from './createMarkup';\nimport clearPage from './clearPage';\nimport fetchMovies from './fetchMovie';\nconst { API_KEY, BASE_URL_ALL, arrowRight, arrowLeft } = refs;\n\nexport default async function updatePage(page = 1) {\n  const response = await fetch(\n    `${BASE_URL_ALL}?api_key=${API_KEY}&page=${page}`\n  );\n  const data = await response.json();\n\n  const reft = {\n    totalPageCount: data.total_pages,\n    currentPage: page,\n    pageNumbers: [],\n    maxPageBtn: 9,\n    nearEdgeThreshold: 3,\n    pageNumbersHtml: document.querySelector('.js-list'),\n  };\n\n  const {\n    totalPageCount,\n    currentPage,\n    pageNumbers,\n    maxPageBtn,\n    nearEdgeThreshold,\n    pageNumbersHtml,\n  } = reft;\n\n  if (totalPageCount <= maxPageBtn) {\n    for (let i = 1; i <= totalPageCount; i += 1) {\n      pageNumbers.push(i);\n    }\n  } else {\n    // 1                 3  + 1\n    if (currentPage <= nearEdgeThreshold + 1) {\n      for (let i = 1; i <= maxPageBtn - 2; i += 1) {\n        pageNumbers.push(i);\n      }\n      pageNumbers.push('...');\n      pageNumbers.push(totalPageCount);\n    } else if (currentPage >= totalPageCount - nearEdgeThreshold) {\n      pageNumbers.push(1);\n      pageNumbers.push('...');\n      for (\n        let i = totalPageCount - maxPageBtn + 3;\n        i <= totalPageCount;\n        i += 1\n      ) {\n        pageNumbers.push(i);\n      }\n    } else {\n      pageNumbers.push(1);\n      pageNumbers.push('...');\n      for (\n        let i = currentPage - nearEdgeThreshold;\n        i <= currentPage + nearEdgeThreshold;\n        i += 1\n      ) {\n        pageNumbers.push(i);\n      }\n      pageNumbers.push('...');\n      pageNumbers.push(totalPageCount);\n    }\n  }\n\n  const pageNumbersHTML = pageNumbers\n    .map(number => {\n      if (number === '...') {\n        return `<span>${number}</span>`;\n      } else {\n\n\n        const activeClass = page === number ? 'isactive' : '';\n        return `<button class=\"js-page-number ${activeClass}\" data-page=\"${number}\">${number}</button>`;\n      }\n    })\n    .join('');\n\n  pageNumbersHtml.innerHTML = pageNumbersHTML;\n\n  arrowRight.disabled = page === totalPageCount;\n  arrowLeft.disabled = page === 1;\n\n  document.querySelectorAll('.js-page-number').forEach(button => {\n    button.addEventListener('click', async () => {\n      const newPage = parseInt(button.dataset.page);\n      console.log(newPage);\n      if (!isNaN(newPage)) {\n        clearPage();\n        const data = await fetchMovies(page);\n        createMarkup(data);\n        updatePage(newPage);\n      }\n    });\n  });\n}\n\n","import refs from './refs';\nimport addMovieToWatched from './addToWatched';\nimport addToQueue from './addToQueue';\nconst { BASE_URL_GENRE, API_KEY } = refs;\n\nconst modalContainer = document.createElement('div');\nmodalContainer.classList.add('modal');\ndocument.body.appendChild(modalContainer);\nmodalContainer.style.display = 'none';\n\nexport default async function touchMovieInfo() {\n  document.body.addEventListener('click', onOpen);\n\nasync function onOpen(e) {\n    const pageItem = e.target.closest('.page-item');\n    if (pageItem) {\n      document.body.classList.add('modal-open');\n      const gotId = pageItem.dataset.id;\n      const response = await fetch(\n        `${BASE_URL_GENRE}${gotId}?api_key=${API_KEY}`\n      );\n      const data = await response.json();\n\n      const {\n        genres,\n        title,\n        poster_path,\n        vote_average,\n        vote_count,\n        original_title,\n        popularity,\n        overview,\n        release_date,\n      } = data;\n\n      const genreS = genres.map(({ name }) => name).join(' | ');\n      const overage = vote_average.toString().slice(0, 3);\n      const vote = vote_count.toString();\n\n      const overviwW =\n        overview.length > 550 ? overview.slice(0, 550) + '...' : overview;\n      console.log(data);\n      // LOCAL STORAGE\n      const localStorageSave = {\n        gotId,\n        poster_path,\n        title,\n        genres,\n        overage,\n        release_date,\n      };\n\n      function checkCorect(num) {\n        const parseValue = parseFloat(num);\n        if (!isNaN(parseValue)) {\n          const popular = parseValue.toFixed(1);\n          if (popular.endsWith('.')) {\n            return popular.slice(0, -1);\n          } else if (popular.endsWith('.0')) {\n            return popular.slice(0, -2);\n          }\n          return popular;\n        }\n        return 'Invalid value';\n      }\n\n      modalContainer.innerHTML = '';\n      const backdrop = `\n                  <div class=\"modal__container\">\n                    <div class=\"modal-contant\">\n                      <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\"/>\n                      <article class=\"modal-article\">\n                          <h2 class=\"modal-article__title\">${title}</h2>\n                          <div class=\"info-modal\">\n                              <p class=\"info-modal__lean\">Vote / Votes<span class=\"info-modal__value overage-modal\">${overage}</span> / <span class=\"vote-modal info-modal__value\">${vote}</span></p>\n                              <p class=\"info-modal__lean\">Popularity<span class=\"info-modal__value popular-modal\">${checkCorect(\n                                popularity\n                              )}</span></p>\n                              <p class=\"info-modal__lean\">Original Title<span class=\"info-modal__value title-modal\">${original_title}</span></p>\n                              <p class=\"info-modal__lean\">Genre<span class=\"info-modal__value genre-modal\">${genreS}</span></p>\n\n                              <div>\n                                <p class=\"info-modal__about\">About</з>\n                                <p class=\"info-modal__overview\">${overviwW}</p>\n                              </div>\n                          </div>\n                          <div class=\"modal-buttons\">\n                           <button class=\"modal-buttons__watched modal-button js-modal__watched\">add to Watched</button>\n                          <button class=\"modal-buttons__queue modal-button js-modal__queue\">add to queue</button>\n                          </div>\n                      </article>\n                     </div>\n                  </div>\n                  `;\n\n      modalContainer.style.display = 'flex';\n      document.body.addEventListener('click', onCloseModal);\n      modalContainer.innerHTML = backdrop;\n\n      const modalWatched = document.querySelector('.js-modal__watched');\n      const modalQueue = document.querySelector('.js-modal__queue')\n      addMovieToWatched(modalWatched, localStorageSave);\n      addToQueue(modalQueue,localStorageSave)\n    }\n  }\n  function onCloseModal(e) {\n    if (!e.target.closest('.modal-contant')) {\n      document.body.classList.remove('modal-open');\n      modalContainer.style.display = 'none';\n      document.body.removeEventListener('click', onCloseModal);\n    }\n  }\n}\n\n","export default function addMovieToWatched(watchedD ,localStr) {\n    watchedD.addEventListener('click',() => {\n        const isWatched = true\n        localStr.isWatched = isWatched\n        const savedMoviesWatched = JSON.parse(localStorage.getItem('savedMoviesWat')) || [];\n        const existingMovieIndex = savedMoviesWatched.findIndex(({gotId}) => gotId === localStr.gotId)\n        if(existingMovieIndex === -1) {\n            savedMoviesWatched.push(localStr);\n            console.log('Фильм добавлен в сохраненные');\n            localStorage.setItem('savedMoviesWat',JSON.stringify(savedMoviesWatched))\n        }else { \n            console.log('Фильм уже есть');\n        }\n    })\n}\n\n\n","export default function addToQueue(btnQueue ,localStr) {\n    btnQueue.addEventListener('click',() => {\n        const isQueue = true\n        localStr.isQueue = isQueue\n        const savedMovieQueue = JSON.parse(localStorage.getItem('savedMovieQueue')) || []\n        \n        const successMovie = savedMovieQueue.findIndex(({gotId}) => gotId === localStr.gotId)\n        if(successMovie === - 1) {\n            savedMovieQueue.push(localStr)\n            localStorage.setItem('savedMovieQueue',JSON.stringify(savedMovieQueue))  \n        }else { \n            console.log('Уже добавлен');\n        }\n    })\n}\n\n "],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","API_KEY","BASE_URL_ALL","BASE_URL_GENRE","BASE_URL_QUERY","cards","document","querySelector","arrowRight","arrowLeft","formSubmit","logo","pagination","watchedList","watched","getElementById","queue","$7366bbf7bad3b19b$export$2e2bcd8739ae039","$krGWQ","innerWidth","default","textContent","addEventListener","requestAnimationFrame","$a0cac08c197f45b6$var$API_KEY","$a0cac08c197f45b6$var$BASE_URL_ALL","$a0cac08c197f45b6$var$BASE_URL_GENRE","$a0cac08c197f45b6$export$2e2bcd8739ae039","page","response","fetch","data","json","genreRequests","results","map","movieId","resp","ok","statusText","error","console","log","Promise","all","$bb2db7a89a40ba72$var$cards","$bb2db7a89a40ba72$export$24783e9f3a24abe4","markup","successfulMoviesData","filter","movies","poster_path","title","genres","release_date","genr","item","name","join","dateMovie","slice","insertAdjacentHTML","$a6be473e5430189c$var$cards","$a6be473e5430189c$export$2e2bcd8739ae039","innerHTML","$9Uhgk","$615b248ed863778a$var$formSubmit","$615b248ed863778a$var$BASE_URL_QUERY","$615b248ed863778a$var$API_KEY","$615b248ed863778a$var$BASE_URL_GENRE","$615b248ed863778a$var$cards","$615b248ed863778a$var$logo","$615b248ed863778a$var$pagination","$ad96d6d838aa2c0e$var$API_KEY","$ad96d6d838aa2c0e$var$BASE_URL_ALL","$ad96d6d838aa2c0e$var$arrowRight","$ad96d6d838aa2c0e$var$arrowLeft","$ad96d6d838aa2c0e$export$2e2bcd8739ae039","totalPageCount","currentPage","pageNumbers","maxPageBtn","nearEdgeThreshold","pageNumbersHtml","total_pages","i","push","pageNumbersHTML","number","activeClass","disabled","querySelectorAll","forEach","button","newPage","parseInt","dataset","isNaN","$30945593a52b1118$var$BASE_URL_GENRE","$30945593a52b1118$var$API_KEY","$30945593a52b1118$var$modalContainer","createElement","$30945593a52b1118$export$2e2bcd8739ae039","onOpen","pageItem","target","closest","body","classList","add","gotId","vote_average","vote_count","original_title","popularity","overview","genreS","overage","toString","vote","overviwW","length","localStorageSave","backdrop","checkCorect","num","parseValue","parseFloat","popular","toFixed","endsWith","style","display","onCloseModal","modalWatched","modalQueue","watchedD","localStr","isWatched","savedMoviesWatched","JSON","parse","localStorage","getItem","existingMovieIndex","findIndex","setItem","stringify","btnQueue","isQueue","savedMovieQueue","successMovie","remove","removeEventListener","appendChild","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$arrowRight","$1f0dc3b9307be026$var$arrowLeft","$1f0dc3b9307be026$var$init","handleLeftClick","$1f0dc3b9307be026$var$handleLeftClick","handleRightClick","$1f0dc3b9307be026$var$handleRightClick","preventDefault","request","currentTarget","serchQuary","value","trim","successMovies","renderingMarkup","ids","genre","releaseDate"],"version":3,"file":"index.2b9e10c0.js.map"}