var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var s={id:e,exports:{}};return t[e]=s,r.call(s.exports,s,s.exports),s.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r),r.register;var s=(r("krGWQ"),r("krGWQ"));const{API_KEY:i,BASE_URL_ALL:n,BASE_URL_GENRE:l,cards:o}=s.default;async function c(e=1){o.classList.add("loader");try{let t=await fetch(`${n}?api_key=${i}&page=${e}`);if(!t.ok)throw Error(t.statusText);let a=await t.json(),r=await Promise.all(a.results.map(async e=>{try{let t=await fetch(`${l}${e.id}?api_key=${i}&include_image_language=en,null`);if(!t.ok)throw Error(t.statusText);return await t.json()}catch(e){console.log("Error fetching genre information:",e)}}));return o.classList.remove("loader"),r}catch(e){console.log("Error fetching all movies:",e)}}var s=r("krGWQ");const{cards:d}=s.default;async function p(e){try{let t=e.filter(e=>{if(e&&null!==e.poster_path)return e}).map(({title:e,poster_path:t,genres:a,release_date:r,id:s})=>{let i=a.map(e=>e.name).join(", "),n=r.slice(0,4);return`
              <li class="page-item" data-id="${s}">
                 <a href="#" class="page-item__link">
                 <img src="https://image.tmdb.org/t/p/w500${t}">
                 <div class="page-description">
                     <h2 class="page-description__title">${e}</h2>
                     <p class="page-description__podscription">${i} <span>| ${n}</span></p>
                 </div>
                 </a>
              </li>`}).join(" ");d.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e)}}var s=r("krGWQ"),u=r("1GAPJ"),s=r("krGWQ");const{cards:f}=s.default;function g(){f.innerHTML=""}var h=r("9Uhgk");const{formSubmit:m,BASE_URL_QUERY:_,API_KEY:y,BASE_URL_GENRE:w,cards:$,pagination:v}=s.default;(0,h.default)();var s=r("krGWQ");const{API_KEY:E,BASE_URL_ALL:L,arrowRight:k,arrowLeft:b,cards:A}=s.default;async function j(e=1){let t=await fetch(`${L}?api_key=${E}&page=${e}`),{totalPageCount:a,currentPage:r,pageNumbers:s,maxPageBtn:i,nearEdgeThreshold:n,pageNumbersHtml:l}={totalPageCount:(await t.json()).total_pages,currentPage:e,pageNumbers:[],maxPageBtn:9,nearEdgeThreshold:3,pageNumbersHtml:document.querySelector(".js-list")};if(a<=i)for(let e=1;e<=a;e+=1)s.push(e);else if(r<=n+1){for(let e=1;e<=i-2;e+=1)s.push(e);s.push("..."),s.push(a)}else if(r>=a-n){s.push(1),s.push("...");for(let e=a-i+3;e<=a;e+=1)s.push(e)}else{s.push(1),s.push("...");for(let e=r-n;e<=r+n;e+=1)s.push(e);s.push("..."),s.push(a)}let o=s.map(t=>{if("..."===t)return`<span>${t}</span>`;{let a=e===t?"isactive":"";return`<button class="js-page-number ${a}" data-page="${t}">${t}</button>`}}).join("");l.innerHTML=o,k.disabled=e===a,b.disabled=1===e,document.querySelectorAll(".js-page-number").forEach(t=>{t.addEventListener("click",async()=>{let a=parseInt(t.dataset.page);console.log(a),isNaN(a)||(g(),p(await c(e)),j(a))})})}var N=r("4aAp5");let R=1;const{arrowRight:P,arrowLeft:T}=s.default;!async function(){let e=await c(R);await p(e),j()}();const{handleLeftClick:x,handleRightClick:G}={handleRightClick:async()=>{R+=1;try{g();let e=await c(R);p(e),j(R)}catch(e){console.error(e)}},handleLeftClick:async()=>{R-=1;try{g();let e=await c(R);p(e),j(R)}catch(e){console.error(e)}}};T.addEventListener("click",x),P.addEventListener("click",G),m.addEventListener("submit",async e=>{e.preventDefault();let t=e.currentTarget.serchQuary.value.trim();if(!t){(0,u.Notify).info("You have not entered anything");return}$.classList.add("loader");try{let e=await fetch(`${_}?api_key=${y}&query=${t}`),a=await e.json();if(0===a.total_pages||0===a.total_results){(0,u.Notify).info("Nothing found for your request");return}{let e=await a.results.filter(e=>{if(e&&null!==e.poster_path)return e}),t=await e.map(({id:e})=>e),r=await Promise.all(t.map(async e=>{let t=await fetch(`${w}${e}?api_key=${y}`),{title:a,poster_path:r,release_date:s,genres:i}=await t.json(),n=i.map(({name:e})=>e).join(" "),l=s.slice(0,4);return`
              <li class="page-item" data-id="${e}">
                  <a href="#" class="page-item__link">
                      <img class="page-item__img" src="https://image.tmdb.org/t/p/w500${r}" alt="${a}"/>
                      <div class="page-description">
                          <h2 class="page-description__title">${a}</h2>
                          <p class="page-description__podscription">${n} ${l}</p>
                      </div>
                  </a>
              </li>`}));(0,u.Notify).success(`According to your request
      found ${a.results.length} films`),g(),v.style.display="none",$.innerHTML=r.join(" ")}}catch(e){console.error("An error occurred while delivering data",console.error())}finally{$.classList.remove("loader")}}),(0,N.default)();
//# sourceMappingURL=index.4eadf5fd.js.map
